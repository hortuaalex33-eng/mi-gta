<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>MI GTA PRO MAX</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body { margin:0; overflow:hidden; background:#111; }
canvas { display:block; }

#joystickBase {
  position:absolute; bottom:40px; left:40px;
  width:140px; height:140px;
  background:rgba(255,255,255,0.1);
  border-radius:50%;
}

#joystick {
  position:absolute;
  width:70px; height:70px;
  background:cyan;
  border-radius:50%;
  left:35px; top:35px;
}

#shootBtn {
  position:absolute;
  bottom:60px; right:40px;
  width:80px; height:80px;
  background:red;
  border-radius:50%;
  color:white;
  display:flex;
  align-items:center;
  justify-content:center;
}

#carBtn {
  position:absolute;
  bottom:160px;
  right:40px;
  width:80px;
  height:50px;
  background:#0af;
  color:white;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:10px;
}

#money, #hp, #mission {
  position:absolute;
  left:20px;
  font-weight:bold;
}
#money { top:20px; color:#0f0; }
#hp { top:50px; color:red; }
#mission { top:80px; color:white; }
</style>
</head>

<body>

<div id="joystickBase"><div id="joystick"></div></div>
<div id="shootBtn">FIRE</div>
<div id="carBtn">CAR</div>
<div id="money">$0</div>
<div id="hp">‚ù§Ô∏è100</div>
<div id="mission">üéØ Gana $100</div>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = innerWidth;
canvas.height = innerHeight;

let world = { width:3000, height:3000 };
let camera = { x:0, y:0 };

let money = 0, wanted = 0, time = 0, health = 100;

// MENSAJES
let message = "", messageTime = 0;
function showMessage(txt){
  message = txt;
  messageTime = 2;
}

// PART√çCULAS
let particles = [];

let mission = { goal:100, reward:200, active:true };

// sonidos
let shootSound = new Audio("https://actions.google.com/sounds/v1/impacts/metal_hit.ogg");
let moneySound = new Audio("https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg");

// PLAYER
let player = { x:1500,y:1500,size:30,speed:220,inCar:false };

// CARRO
let car = { x:1600,y:1500,width:60,height:30,speed:400 };

// CASAS
let houses=[];
for(let i=0;i<20;i++){
  houses.push({x:Math.random()*world.width,y:Math.random()*world.height,w:80,h:80});
}

// NPC
let npcs=[];
for(let i=0;i<6;i++){
  npcs.push({x:Math.random()*world.width,y:Math.random()*world.height,size:25,speed:70});
}

// POLICIA
let police=[];
for(let i=0;i<3;i++){
  police.push({x:Math.random()*world.width,y:Math.random()*world.height,size:28,speed:120});
}

let bullets=[];

// SAVE
function save(){
  localStorage.setItem("gta_save", JSON.stringify({money,wanted,health}));
}
function load(){
  let d=JSON.parse(localStorage.getItem("gta_save"));
  if(d){money=d.money||0;wanted=d.wanted||0;health=d.health||100;}
}
load();

// JOYSTICK
let joystick=document.getElementById("joystick");
let base=document.getElementById("joystickBase");
let dragging=false,inputX=0,inputY=0;

base.addEventListener("touchstart",()=>dragging=true);
base.addEventListener("touchmove",e=>{
  if(!dragging)return;
  let t=e.touches[0], r=base.getBoundingClientRect();
  let x=t.clientX-r.left-70, y=t.clientY-r.top-70;
  let d=Math.hypot(x,y), max=50;
  if(d>max){x=(x/d)*max;y=(y/d)*max;}
  joystick.style.left=(x+35)+"px";
  joystick.style.top=(y+35)+"px";
  inputX=x/max; inputY=y/max;
});
base.addEventListener("touchend",()=>{
  dragging=false; inputX=0; inputY=0;
  joystick.style.left="35px"; joystick.style.top="35px";
});

// CARRO
document.getElementById("carBtn").addEventListener("touchstart",()=>{
  let d=Math.hypot(player.x-car.x,player.y-car.y);
  if(d<80) player.inCar=!player.inCar;
});

// DISPARO
document.getElementById("shootBtn").addEventListener("touchstart",()=>{

  if(navigator.vibrate) navigator.vibrate(50);

  shootSound.currentTime=0;
  shootSound.play();

  let dx=inputX||1, dy=inputY||0;
  let len=Math.hypot(dx,dy)||1;

  bullets.push({
    x:player.x,
    y:player.y,
    vx:(dx/len)*600,
    vy:(dy/len)*600
  });
});

// LOOP
let last=0;
function loop(t){
  let dt=(t-last)/1000;
  last=t;
  update(dt);
  draw();
  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);

// UPDATE
function update(dt){

  time+=dt;

  if(player.inCar){
    car.x+=inputX*car.speed*dt;
    car.y+=inputY*car.speed*dt;
    player.x=car.x; player.y=car.y;
  }else{
    player.x+=inputX*player.speed*dt;
    player.y+=inputY*player.speed*dt;
  }

  camera.x+=((player.x-canvas.width/2)-camera.x)*0.1;
  camera.y+=((player.y-canvas.height/2)-camera.y)*0.1;

  // da√±o
  npcs.forEach(n=>{
    if(Math.hypot(player.x-n.x,player.y-n.y)<30) health-=20*dt;
  });

  // part√≠culas update
  particles.forEach(p=>{
    p.x+=p.vx*dt;
    p.y+=p.vy*dt;
    p.life-=dt;
  });
  particles=particles.filter(p=>p.life>0);

  // balas
  bullets.forEach(b=>{
    b.x+=b.vx*dt;
    b.y+=b.vy*dt;
  });

  // colisiones
  for(let bi=bullets.length-1;bi>=0;bi--){
    let b=bullets[bi];

    for(let ni=npcs.length-1;ni>=0;ni--){
      if(hit(b,npcs[ni])){
        // part√≠culas üí•
        for(let i=0;i<10;i++){
          particles.push({
            x:npcs[ni].x,
            y:npcs[ni].y,
            vx:(Math.random()-0.5)*200,
            vy:(Math.random()-0.5)*200,
            life:1
          });
        }

        npcs.splice(ni,1);
        bullets.splice(bi,1);
        money+=10;

        moneySound.currentTime=0;
        moneySound.play();
        break;
      }
    }
  }

  // misi√≥n FIX üî•
  if(mission.active && money>=mission.goal){
    mission.active=false;
    money+=mission.reward;
    showMessage("üéâ +$"+mission.reward);

    setTimeout(()=>{
      mission.goal+=100;
      mission.reward+=150;
      mission.active=true;
    },1000);
  }

  // UI
  document.getElementById("money").innerText="$"+money;
  document.getElementById("hp").innerText="‚ù§Ô∏è"+Math.floor(health);
  document.getElementById("mission").innerText="üéØ $"+mission.goal;

  if(messageTime>0) messageTime-=dt;

  if(health<=0){
    showMessage("üíÄ GAME OVER");
    setTimeout(()=>location.reload(),1500);
  }

  save();
}

// DRAW
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // mapa
  for(let x=0;x<world.width;x+=100){
    for(let y=0;y<world.height;y+=100){
      ctx.strokeStyle="#222";
      ctx.strokeRect(x-camera.x,y-camera.y,100,100);
    }
  }

  // casas
  ctx.fillStyle="#555";
  houses.forEach(h=>{
    ctx.fillRect(h.x-camera.x,h.y-camera.y,h.w,h.h);
  });

  // player
  ctx.fillStyle="cyan";
  ctx.fillRect(player.x-camera.x,player.y-camera.y,player.size,player.size);

  // npcs
  ctx.fillStyle="orange";
  npcs.forEach(n=>{
    ctx.fillRect(n.x-camera.x,n.y-camera.y,n.size,n.size);
  });

  // balas
  ctx.fillStyle="yellow";
  bullets.forEach(b=>{
    ctx.fillRect(b.x-camera.x,b.y-camera.y,5,5);
  });

  // part√≠culas üí•
  ctx.fillStyle="red";
  particles.forEach(p=>{
    ctx.fillRect(p.x-camera.x,p.y-camera.y,4,4);
  });

  // mensaje
  if(messageTime>0){
    ctx.fillStyle="white";
    ctx.font="30px Arial";
    ctx.fillText(message, canvas.width/2-100, 100);
  }
}

// HIT
function hit(a,b){
  return a.x<b.x+b.size &&
         a.x+5>b.x &&
         a.y<b.y+b.size &&
         a.y+5>b.y;
}
</script>

</body>
</html><!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>MI GTA PRO MAX</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body { margin:0; overflow:hidden; background:#111; }
canvas { display:block; }

#joystickBase {
  position:absolute; bottom:40px; left:40px;
  width:140px; height:140px;
  background:rgba(255,255,255,0.1);
  border-radius:50%;
}

#joystick {
  position:absolute;
  width:70px; height:70px;
  background:cyan;
  border-radius:50%;
  left:35px; top:35px;
}

#shootBtn {
  position:absolute;
  bottom:60px; right:40px;
  width:80px; height:80px;
  background:red;
  border-radius:50%;
  color:white;
  display:flex;
  align-items:center;
  justify-content:center;
}

#carBtn {
  position:absolute;
  bottom:160px;
  right:40px;
  width:80px;
  height:50px;
  background:#0af;
  color:white;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:10px;
}

#money {
  position:absolute;
  top:20px;
  left:20px;
  color:#0f0;
  font-weight:bold;
}

#hp {
  position:absolute;
  top:50px;
  left:20px;
  color:red;
  font-weight:bold;
}

#mission {
  position:absolute;
  top:80px;
  left:20px;
  color:white;
}
</style>
</head>

<body>

<div id="joystickBase"><div id="joystick"></div></div>
<div id="shootBtn">FIRE</div>
<div id="carBtn">CAR</div>
<div id="money">$0</div>
<div id="hp">‚ù§Ô∏è100</div>
<div id="mission">üéØ Gana $100</div>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = innerWidth;
canvas.height = innerHeight;

let world = { width:3000, height:3000 };
let camera = { x:0, y:0 };

let money = 0;
let wanted = 0;
let time = 0;
let health = 100;

let mission = {
  goal:100,
  reward:200,
  active:true
};

// sonidos
let shootSound = new Audio("https://actions.google.com/sounds/v1/impacts/metal_hit.ogg");
let moneySound = new Audio("https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg");

// PLAYER
let player = {
  x:1500, y:1500,
  size:30,
  speed:220,
  inCar:false
};

// CARRO
let car = {
  x:1600, y:1500,
  width:60,
  height:30,
  speed:400
};

// CASAS
let houses=[];
for(let i=0;i<20;i++){
  houses.push({
    x:Math.random()*world.width,
    y:Math.random()*world.height,
    w:80,h:80
  });
}

// NPC
let npcs=[];
for(let i=0;i<6;i++){
  npcs.push({
    x:Math.random()*world.width,
    y:Math.random()*world.height,
    size:25,
    speed:70
  });
}

// POLICIA
let police=[];
for(let i=0;i<3;i++){
  police.push({
    x:Math.random()*world.width,
    y:Math.random()*world.height,
    size:28,
    speed:120
  });
}

let bullets=[];

// GUARDADO
function save(){
  localStorage.setItem("gta_save", JSON.stringify({
    money,wanted,health
  }));
}

function load(){
  let data = JSON.parse(localStorage.getItem("gta_save"));
  if(data){
    money=data.money||0;
    wanted=data.wanted||0;
    health=data.health||100;
  }
}
load();

// JOYSTICK
let joystick=document.getElementById("joystick");
let base=document.getElementById("joystickBase");

let dragging=false,inputX=0,inputY=0;

base.addEventListener("touchstart",()=>dragging=true);

base.addEventListener("touchmove",e=>{
  if(!dragging)return;

  let t=e.touches[0];
  let r=base.getBoundingClientRect();

  let x=t.clientX-r.left-70;
  let y=t.clientY-r.top-70;

  let d=Math.sqrt(x*x+y*y);
  let max=50;

  if(d>max){x=(x/d)*max;y=(y/d)*max;}

  joystick.style.left=(x+35)+"px";
  joystick.style.top=(y+35)+"px";

  inputX=x/max;
  inputY=y/max;

  if(Math.abs(inputX)<0.05) inputX=0;
  if(Math.abs(inputY)<0.05) inputY=0;
});

base.addEventListener("touchend",()=>{
  dragging=false;
  inputX=0;inputY=0;
  joystick.style.left="35px";
  joystick.style.top="35px";
});

// CARRO
document.getElementById("carBtn").addEventListener("touchstart",()=>{
  let d=Math.hypot(player.x-car.x,player.y-car.y);
  if(d<80){
    player.inCar=!player.inCar;
  }
});

// DISPARO
document.getElementById("shootBtn").addEventListener("touchstart",()=>{

  shootSound.currentTime=0;
  shootSound.play();

  let target=null,min=9999;

  [...npcs,...police].forEach(e=>{
    let d=Math.hypot(player.x-e.x,player.y-e.y);
    if(d<min){min=d;target=e;}
  });

  let dx=inputX,dy=inputY;

  if(target && min<400){
    dx=target.x-player.x;
    dy=target.y-player.y;
  }

  let len=Math.hypot(dx,dy)||1;

  bullets.push({
    x:player.x,
    y:player.y,
    vx:(dx/len)*600,
    vy:(dy/len)*600
  });
});

// LOOP
let last=0;
function loop(t){
  let dt=(t-last)/1000;
  last=t;

  update(dt);
  draw();

  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);

// UPDATE
function update(dt){

  time+=dt;

  if(player.inCar){
    car.x+=inputX*car.speed*dt;
    car.y+=inputY*car.speed*dt;
    player.x=car.x;
    player.y=car.y;
  }else{
    player.x+=inputX*player.speed*dt;
    player.y+=inputY*player.speed*dt;
  }

  player.x=Math.max(0,Math.min(world.width,player.x));
  player.y=Math.max(0,Math.min(world.height,player.y));

  camera.x+=((player.x-canvas.width/2)-camera.x)*0.1;
  camera.y+=((player.y-canvas.height/2)-camera.y)*0.1;

  // da√±o
  npcs.forEach(n=>{
    let d=Math.hypot(player.x-n.x,player.y-n.y);
    if(d<30){health-=20*dt;}
  });

  police.forEach(p=>{
    let d=Math.hypot(player.x-p.x,player.y-p.y);
    if(d<35){health-=40*dt;}
  });

  // IA
  npcs.forEach(n=>{
    let d=Math.hypot(player.x-n.x,player.y-n.y);
    if(d<200){moveToPlayer(n,dt);}
    else{
      n.x+=Math.sin(time+n.x)*10*dt;
      n.y+=Math.cos(time+n.y)*10*dt;
    }
  });

  police.forEach(p=>{
    if(wanted>0){
      moveToPlayer(p,dt,2+wanted);
    }
  });

  // balas
  bullets.forEach(b=>{
    b.x+=b.vx*dt;
    b.y+=b.vy*dt;
  });

  bullets=bullets.filter(b=>
    b.x>0&&b.y>0&&b.x<world.width&&b.y<world.height
  );

  // colisiones
  for(let bi=bullets.length-1;bi>=0;bi--){
    let b=bullets[bi];

    for(let ni=npcs.length-1;ni>=0;ni--){
      if(hit(b,npcs[ni])){
        npcs.splice(ni,1);
        bullets.splice(bi,1);
        money+=10;
        wanted+=0.2;

        moneySound.currentTime=0;
        moneySound.play();
        break;
      }
    }

    for(let pi=police.length-1;pi>=0;pi--){
      if(hit(b,police[pi])){
        police.splice(pi,1);
        bullets.splice(bi,1);
        money+=50;
        wanted+=0.5;

        moneySound.currentTime=0;
        moneySound.play();
        break;
      }
    }
  }

  wanted-=dt*0.05;
  if(wanted<0) wanted=0;

  // misi√≥n
  if(mission.active && money>=mission.goal){
    money+=mission.reward;
    alert("üéâ MISI√ìN COMPLETADA +$"+mission.reward);

    mission.goal+=100;
    mission.reward+=150;
  }

  if(health<=0){
    alert("üíÄ GAME OVER");
    localStorage.removeItem("gta_save");
    location.reload();
  }

  document.getElementById("money").innerText="$"+money+" ‚≠ê"+wanted.toFixed(1);
  document.getElementById("hp").innerText="‚ù§Ô∏è"+Math.floor(health);
  document.getElementById("mission").innerText="üéØ Gana $"+mission.goal;

  save();
}

// IA
function moveToPlayer(e,dt,boost=1){
  let dx=player.x-e.x;
  let dy=player.y-e.y;
  let d=Math.sqrt(dx*dx+dy*dy);
  if(d>2){
    e.x+=(dx/d)*e.speed*boost*dt;
    e.y+=(dy/d)*e.speed*boost*dt;
  }
}

// HIT
function hit(a,b){
  return a.x<b.x+b.size &&
         a.x+5>b.x &&
         a.y<b.y+b.size &&
         a.y+5>b.y;
}

// MAPA
function drawMap(){
  for(let x=0;x<world.width;x+=100){
    for(let y=0;y<world.height;y+=100){
      ctx.strokeStyle="#222";
      ctx.strokeRect(x-camera.x,y-camera.y,100,100);
    }
  }
}

// DRAW
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  drawMap();

  ctx.fillStyle="#555";
  houses.forEach(h=>{
    ctx.fillRect(h.x-camera.x,h.y-camera.y,h.w,h.h);
  });

  ctx.fillStyle="gray";
  ctx.fillRect(car.x-camera.x,car.y-camera.y,car.width,car.height);

  ctx.fillStyle="cyan";
  ctx.fillRect(player.x-camera.x,player.y-camera.y,player.size,player.size);

  ctx.fillStyle="orange";
  npcs.forEach(n=>{
    ctx.fillRect(n.x-camera.x,n.y-camera.y,n.size,n.size);
  });

  ctx.fillStyle="blue";
  police.forEach(p=>{
    ctx.fillRect(p.x-camera.x,p.y-camera.y,p.size,p.size);
  });

  ctx.fillStyle="yellow";
  bullets.forEach(b=>{
    ctx.fillRect(b.x-camera.x,b.y-camera.y,5,5);
  });
}
</script>

</body>
</html><!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Mini Candy GOD ULTRA PRO üòà</title>

<style>
body {
  background: linear-gradient(135deg, #141e30, #243b55);
  display: flex;
  flex-direction: column;
  align-items: center;
  color: white;
  font-family: Arial;
}

#tablero {
  display: grid;
  grid-template-columns: repeat(8, 50px);
  gap: 5px;
}

.celda {
  width: 50px;
  height: 50px;
  border-radius: 12px;
  transition: 0.3s;
}

.rojo { background:#ff4d4d; }
.azul { background:#4da6ff; }
.verde { background:#4dff88; }
.amarillo { background:#ffd24d; }
.morado { background:#b84dff; }

.bomba {
  border: 3px solid white;
}

.eliminado {
  opacity:0;
  transform: scale(0.5);
}

</style>
</head>

<body>

<h2>üç¨ Candy GOD ULTRA PRO üòà</h2>

<input id="nombre" placeholder="Tu nombre">
<button onclick="guardarJugador()">Guardar</button>

<div>
Nivel: <span id="nivel">1</span> |
Puntos: <span id="score">0</span> |
‚ù§Ô∏è <span id="vidas">5</span>
</div>

<div id="tablero"></div>

<h3>üèÜ Ranking</h3>
<div id="ranking"></div>

<script>
const colores=["rojo","azul","verde","amarillo","morado"];
const width=8;

let grid=[];
let seleccionado=null;

let score=0;
let nivel=1;
let vidas=5;
let objetivo=100;
let jugador="Anon";

function cargarDatos(){
  let data=JSON.parse(localStorage.getItem("save"));
  if(data){
    score=data.score;
    nivel=data.nivel;
    vidas=data.vidas;
    jugador=data.jugador;
  }
}

function guardarDatos(){
  localStorage.setItem("save", JSON.stringify({
    score,nivel,vidas,jugador
  }));
}

function guardarJugador(){
  jugador=document.getElementById("nombre").value || "Anon";
  guardarDatos();
}

function crearTablero(){
  tablero.innerHTML="";
  grid=[];

  for(let i=0;i<64;i++){
    let c=document.createElement("div");
    c.className="celda "+colores[Math.floor(Math.random()*colores.length)];
    c.onclick=()=>seleccionar(c);
    tablero.appendChild(c);
    grid.push(c);
  }
}

function seleccionar(c){
  if(!seleccionado){
    seleccionado=c;
  }else{
    if(esAdyacente(seleccionado,c)){
      intercambiar(seleccionado,c,true);
    }
    seleccionado=null;
  }
}

function esAdyacente(a,b){
  let ai=grid.indexOf(a);
  let bi=grid.indexOf(b);
  return [1,-1,width,-width].includes(ai-bi);
}

function intercambiar(a,b,validar=false){
  let ca=getColorClass(a);
  let cb=getColorClass(b);

  a.className="celda "+cb;
  b.className="celda "+ca;

  if(validar){
    setTimeout(()=>{
      if(!hayCombo()){
        // devolver si no hay combo
        intercambiar(a,b,false);
        vidas--;
        updateUI();
      }else{
        eliminarCombos();
      }
    },150);
  }
}

function hayCombo(){
  return buscarCombos().length>0;
}

function buscarCombos(){
  let encontrados=[];

  for(let i=0;i<64;i++){
    if(i%width<6){
      let c=getColor(i);
      if(c && c===getColor(i+1)&&c===getColor(i+2)){
        encontrados.push(i,i+1,i+2);
      }
      if(c && c===getColor(i+1)&&c===getColor(i+2)&&c===getColor(i+3)){
        grid[i].classList.add("bomba");
      }
    }

    if(i<48){
      let c=getColor(i);
      if(c && c===getColor(i+width)&&c===getColor(i+width*2)){
        encontrados.push(i,i+width,i+width*2);
      }
      if(c && c===getColor(i+width)&&c===getColor(i+width*2)&&c===getColor(i+width*3)){
        grid[i].classList.add("bomba");
      }
    }
  }

  return [...new Set(encontrados)];
}

function eliminarCombos(){
  let encontrados=buscarCombos();

  if(encontrados.length===0){
    return;
  }

  encontrados.forEach(i=>{
    if(grid[i].classList.contains("bomba")){
      explotarBomba(i);
    }
    grid[i].className="celda eliminado";
    score+=10;
  });

  if(score>=objetivo){
    nivel++;
    objetivo+=100;
  }

  guardarDatos();
  updateUI();

  setTimeout(caer,200);
}

function explotarBomba(i){
  let fila=Math.floor(i/width);
  let col=i%width;

  for(let x=0;x<width;x++){
    grid[fila*width+x].className="celda eliminado";
  }
  for(let y=0;y<width;y++){
    grid[y*width+col].className="celda eliminado";
  }
}

function caer(){
  for(let i=55;i>=0;i--){
    if(grid[i+width].classList.contains("eliminado")){
      let c=getColor(i);
      grid[i+width].className="celda "+c;
      grid[i].className="celda eliminado";
    }
  }

  for(let i=0;i<width;i++){
    if(grid[i].classList.contains("eliminado")){
      let c=colores[Math.floor(Math.random()*colores.length)];
      grid[i].className="celda "+c;
    }
  }

  setTimeout(()=>{
    if(hayCombo()){
      eliminarCombos(); // üî• combos en cadena
    }
  },200);
}

function getColor(i){
  return colores.find(c=>grid[i].classList.contains(c));
}

function getColorClass(c){
  return colores.find(x=>c.classList.contains(x));
}

function updateUI(){
  scoreEl.innerText=score;
  nivelEl.innerText=nivel;
  vidasEl.innerText=vidas;
}

function reiniciar(){
  score=0;
  nivel=1;
  vidas=5;
  crearTablero();
  guardarDatos();
}

function guardarRanking(){
  let ranking=JSON.parse(localStorage.getItem("ranking"))||[];
  ranking.push({jugador,score});
  ranking.sort((a,b)=>b.score-a.score);
  ranking=ranking.slice(0,5);
  localStorage.setItem("ranking",JSON.stringify(ranking));
  mostrarRanking();
}

function mostrarRanking(){
  let ranking=JSON.parse(localStorage.getItem("ranking"))||[];
  rankingDiv.innerHTML="";

  ranking.forEach(r=>{
    let d=document.createElement("div");
    d.innerText=r.jugador+" - "+r.score;
    rankingDiv.appendChild(d);
  });
}

// INIT
const tablero=document.getElementById("tablero");
const scoreEl=document.getElementById("score");
const nivelEl=document.getElementById("nivel");
const vidasEl=document.getElementById("vidas");
const rankingDiv=document.getElementById("ranking");

cargarDatos();
crearTablero();
updateUI();
mostrarRanking();
</script>

</body>
</html>


